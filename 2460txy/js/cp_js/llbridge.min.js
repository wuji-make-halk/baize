(function(global,factory){"use strict";var VERSION="v1.1";if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define([],factory);else global["LLBridge"]=factory()})(typeof window!=="undefined"?window:this,function(){"use strict";if(!window.document)throw"object document must give";if(!JSON&&!JSON.stringify)throw"function JSON.stringify not exist";var _iframe=document.createElement("iframe");_iframe.style.display="none";document.documentElement.appendChild(_iframe);var bridge={callback:{},login:function(callback){if(typeof callback==="undefined"){throw"login callback not set"}var randkey="L"+(new Date).getTime();this.callback[randkey]=callback;if(typeof android!=="undefined"){window.android.login(randkey);return}var params={s:randkey};_iframe.src="llgame://login?"+JSON.stringify(params)},pay:function(orderId,itemId,price,description,extend,callback){if(typeof callback==="undefined"){throw"pay callback not set"}if(description==""){throw"description empty"}if(isNaN(price)||parseInt(price)<=0){throw"price error"}var randkey="L"+(new Date).getTime();this.callback[randkey]=callback;if(typeof android!=="undefined"){window.android.pay(""+orderId,parseInt(price),""+description,""+extend,""+itemId,randkey);return}var params={a:orderId,b:itemId,c:parseInt(price),d:extend,e:description,s:randkey};_iframe.src="llgame://ce5f6f?"+JSON.stringify(params)},role:function(blance,level,vip,roleId,name,zone,callback){if(typeof callback==="undefined"){throw"role callback not set"}var randkey="L"+(new Date).getTime();this.callback[randkey]=callback;if(typeof android!=="undefined"){window.android.role(parseInt(blance),parseInt(level),parseInt(vip),""+roleId,""+name,""+zone,randkey);return}},lcb:function(token,uid,sessionId){if(this.callback.hasOwnProperty(sessionId)){this.callback[sessionId](token,uid);delete this.callback[sessionId]}},pcb:function(result,sessionId){if(this.callback.hasOwnProperty(sessionId)){this.callback[sessionId](result);delete this.callback[sessionId]}},rcb:function(sessionId){if(this.callback.hasOwnProperty(sessionId)){this.callback[sessionId]();delete this.callback[sessionId]}}};return bridge});