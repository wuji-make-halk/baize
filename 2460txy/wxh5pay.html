<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
</head>
<style type="text/css">
    html{overflow: hidden;}
    body{text-align:center;background-color:rgba(0,0,0,0.8)}
    a{color:  	#707070}
    a,a:hover,a:active,a:visited,a:link,a:focus{

        -webkit-tap-highlight-color:rgba(0,0,0,0);

        -webkit-tap-highlight-color: transparent;

        outline:none;

        background: none;

        text-decoration: none;

    }
</style>
<body>
<spen style='color:rgb(255, 255, 255);width: 100%;text-align: left;display: block;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;购买信息</spen>
<div style="background:linear-gradient(to left,#efefef,#b6b6b6,#efefef);height:1px;"></div>
<div style="width: 75%;margin: 0 auto;height: 10vh;margin-top: 10vh;">
    <spen style='color:rgb(255, 255, 255);width: 30%;text-align: left;display: block;float: left;'>商品：</spen>
    <div style="width: 70%;display: block;float: left;">
        <spen id="goodsName" style='color:rgb(255, 255, 255);text-align: center;'>
        </spen>
        <div style="background:linear-gradient(to left,#efefef,#b6b6b6,#efefef);height:1px;"></div>
    </div>

</div>
<div style="width: 75%;margin: 0 auto;height: 10vh;margin-top: 6vh;">
    <spen style='color:rgb(255, 255, 255);width: 30%;text-align: left;display: block;float: left;'>金额：</spen>
    <div style="width: 70%;display: block;float: left;">
        <spen id="money" style='color:rgb(255, 255, 255);text-align: center;'>
        </spen>
        <div style="background:linear-gradient(to left,#efefef,#b6b6b6,#efefef);height:1px;"></div>
    </div>
</div>

<div style="width: 75%;margin: 0 auto;">
    <spen id="wxpay"  style="margin-top: 6vh;display: none;" ><img style='width: 100%;'  src="data:image/png;base64,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" /></spen>
</div>
</body>
<script src="http://res.wx.qq.com/open/js/jweixin-1.4.0.js"></script>
<script type="text/javascript">
    if (self == top) {
        window.opener=null;
        window.open('','_self');
        window.close();
    }

    document.getElementById('goodsName').innerHTML=decodeURIComponent(getQueryVariable('goodsName'));
    document.getElementById('money').innerHTML=decodeURIComponent(getQueryVariable('money'));

    if(getQueryVariable('wx_pay_url')!=''){
        //alert(parent.parent.h5pay_getScheme(decodeURIComponent(getQueryVariable('pay_url'))));
        document.getElementById('wxpay').href=decodeURIComponent(getQueryVariable('wx_pay_url'))
        document.getElementById('wxpay').style.display="block";
    }
    // document.getElementById('wxpay').onclick = function(e){
    //     onBridgeReady();
    // };

    function getQueryVariable(variable){
        var query = window.location.search.substring(1);
        var vars = query.split("&");
        for (var i=0;i<vars.length;i++) {
            var pair = vars[i].split("=");
            if(pair[0] == variable){return pair[1];}
        }
        return(false);
    }

    document.getElementById('wxpay').onclick = function(e){
        // 通过iframe的方式试图打开APP，如果能正常打开，会直接切换到APP，并自动阻止a标签的默认行为
        // 否则打开a标签的href链接
        // document.getElementById('alipay').style.display = 'none';
        // document.getElementById('wxpay').style.display = 'none';

        // location.href = this.href;
        // location.reload();
        top.location.href = this.href;
        // onBridgeReady(this.href)

    };

    // function onBridgeReady(geturl){
    //     WeixinJSBridge.invoke(
    //         'getBrandWCPayRequest', getRequest(geturl),
    //         function(res){
    //             if(res.err_msg == "get_brand_wcpay_request:ok" ){
    //                 // 使用以上方式判断前端返回,微信团队郑重提示：
    //                 //res.err_msg将在用户支付成功后返回ok，但并不保证它绝对可靠。
    //                 window.opener=null;
    //                 window.open('','_self');
    //                 window.close();
    //                 // document.getElementById("demo").style.display="";//显示
    //             }
    //         });
    // }
    //
    // if (typeof WeixinJSBridge == "undefined"){
    //     if( document.addEventListener ){
    //         var data = getRequest();
    //         if(data['error']=='1'){
    //             alert("订单已失效！");
    //         }else if(data['error']=='2'){
    //             alert("请勿重复下单！");
    //         }else{
    //             document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
    //         }
    //     }else if (document.attachEvent){
    //         document.attachEvent('WeixinJSBridgeReady', onBridgeReady);
    //         document.attachEvent('onWeixinJSBridgeReady', onBridgeReady);
    //     }
    // }
    //
    // function getRequest(geturl){
    //     var url=decodeURI(geturl);
    //     console.log('url:' + geturl)
    //     var jsonList={};
    //     if(url.indexOf("?")>-1){
    //         var str=url.slice(url.indexOf("?")+1);
    //         var strs=str.split("&");
    //         for(var i=0;i<strs.length;i++){
    //             jsonList[strs[i].split("=")[0]]=strs[i].split("=")[1];//如果出现乱码的话，可以用decodeURI()进行解码
    //             if(strs[i].split("=")[0]=='package'){
    //                 jsonList['signType']="MD5";
    //                 jsonList['package']="prepay_id="+strs[i].split("=")[1];
    //             }
    //         }
    //     }
    //     console.log(jsonList)
    //     return jsonList;
    //
    // }






</script>
</html>
